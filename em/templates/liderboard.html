{% extends 'base.html' %}

{% block body_block %}

    {% if data %}
        <div class="row">
            <div class="mx-auto">
                <h3 class="text-center my-2 mx-auto">Лучшие результаты</h3>
            </div>
        </div>

        {% for stage in data %}
            <div class="mx-1 mb-4 mt-3 border border-secondary rounded bg-secondary">
                <h4 class="text-center pt-2 text-white">
                    {{ stage }}
                </h4>

                {% for track in stage.details.tracks %}
                    <div class="bg-light mx-3 rounded">
                        <h5 class="text-center text-secondary pt-3">{{ track }}</h5>
                        {% if track.leaders %}
                            <div class="mx-1 mb-3 mt-3">
                            <ul class="list-group w-100 text-justify">
                                {%  for leader in track.leaders %}
                                    <li class="list-group-item mb-1">
                                        {% if leader.time %}
                                            <span class="float-left">
                                                <i class="fas fa-bicycle mr-1 text-info"></i>
                                                <label class="f-sm text-warning">{{ leader.number }}</label>
                                                <i class="fas fa-circle mr-1 text-light"></i>
                                                <label class="f-sm text-danger">{{ leader.name }}</label>
                                            </span>
                                            <span class="float-right">
                                                <i class="fas fa-stopwatch mr-1 text-info"></i>
                                                <label class="f-sm">{{ leader.time }}</label>
                                            </span>
                                        {% else %}
                                            {% if leader.points > 0 %}
                                               <span class="float-left">
                                                <i class="fas fa-bicycle mr-1 text-info"></i>
                                                <label class="f-sm text-warning">{{ leader.number }}</label>
                                                <i class="fas fa-circle mr-1 text-light"></i>
                                                <label class="f-sm text-danger">{{ leader.name }}</label>
                                            </span>
                                            <span class="float-right">
                                                <i class="fas fa-star mr-1 text-info"></i>
                                                <label class="f-sm">{{ leader.points }}</label>
                                            </span>
                                            {% endif %}
                                        {% endif %}
                                    </li>
                                {% endfor %}
                            </ul>
                            </div>
                        {% endif %}
                    </div>

                {% endfor %}
            </div>
        {% endfor %}
    {% else %}
        <div class="row">
            <div class="mx-auto">
                <h3 class="text-center my-2 mx-auto">пусто</h3>
            </div>
        </div>
{% endif %}

{% endblock %}